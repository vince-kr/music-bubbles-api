<!DOCTYPE html>
  <head>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div id="canvas_container">
      <canvas id="bubbles"></canvas>
    </div>
    <div id="inputs">
      <label for="title">Title: </label><input id="title"><br />
      <label for="tune">Tune: </label><input id="tune">
    </div>

    <script>
      // Canvas size and dynamic resize
      const canvasContainer = document.getElementById("canvas_container");
      let canvasWidth = Math.round(document.documentElement.clientWidth * 0.5);
      let canvasHeight = Math.round(canvasWidth * 0.70707);  // approximately
      canvasContainer.style.width = canvasWidth + "px";
      canvasContainer.style.height = canvasHeight + "px";

      window.addEventListener("resize", function() {
        let canvasWidth = Math.round(document.documentElement.clientWidth * 0.5);
        let canvasHeight = Math.round(canvasWidth * 0.70707);
        canvasContainer.style.width = canvasWidth + "px";
        canvasContainer.style.height = canvasHeight + "px";
      });

      // Canvas contents
      const bubblesCanvas = document.getElementById("bubbles");

      const listOfNotes = document.getElementById("tune");
      listOfNotes.addEventListener("input", proctor);

      function proctor(tune) {
        // Call each required function in turn
        if (!validateInput(tune)) {
          // Turn the input box red or smth and return the function
          return;
        };
        let coordinates = getBubbleNumbers(tune)
          .then(bubbleCoords => {
            return bubbleCoords;
          })
          .catch(error => console.error(error));
        drawBubbles(coordinates);
      };

      function validateInput(tune) {
        // Make sure title only contains alphanumeric characters
        // Make sure tune only contains valid note names (a - g)
        // This should also be safely checked in the backend
      };

      function getBubbleNumbers(tune) {
        if tune.length == 0 {
          return []
        };
        return fetch('http://music-bubbles-api.pep/${tune}')
          .then(response => response.json())
          .catch(error => console.error(error))
      };

      function drawBubbles(coordinates) {
        // Access the canvas and draw circles according to coordinates
      };
    </script>
  </body>
</html>